<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <title>05_callback함수.html</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="jquery-3.7.1.min.js"></script>
</head>

<style>
    td {
        width: 100px;
        text-align: center;
    }
</style>

<body>
    <button>* JSON 데이터 받아오기 *</button>
    <div id="panel"></div>

    <script>
        $("button").click(function () {
            //alert();
            //$.ajax(), $.get(), $.post(), $.serialize()
            //$.getJSON(url, callback함수) JSON 데이터를 가져온다
            $.getJSON("sungjuks.json", responsproc);
        });//click end


        function responsproc(result, status, xhr) { //allback 함수
            // alert("responsproc 콜백함수");
            // alert(result);
            // alert(status);
            // alert(xhr);
            let str = "<table border ='1'>";
            $.each(result, function (idx, data) {
                // alert(idx)  //요소 순서
                // alert(data) //각 배열 요소값
                str += "<tr>";
                str += "   <td>" + data.name + "</td>";
                str += "   <td>" + data.id + "</td>";
                str += "   <td>" + data.kor + "</td>";
                str += "   <td>" + data.eng + "</td>";
                str += "   <td>" + data.mat + "</td>";
                str += "</tr>";
            })//each() end
            str += "<table>";
            $("#panel").append(str);

        }//responsproc() end
    </script>

</body>

</html>